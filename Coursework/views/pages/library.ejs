<!DOCTYPE html>
<html lang="en">
  <head>
    <% include ../partials/head.ejs %>
    <!-- Using ejs to import the head code -->
    <link rel="stylesheet" type="text/css" href="/css/library.css">
    <link rel="stylesheet" type="text/css" href="/css/movieshowinfo.css">
    <script src="/scripts/library.js"></script>
    <!-- Linking the stylesheet for the library page -->
  </head>

  <body>
    <header>
      <% include ../partials/header.ejs %>
      <!-- Using ejs to import the header code -->
    </header>

    <main class="grid-container">
      <div class=" grid-100 tab">
          <button class="tablinks active" onclick="showTab(event, 'Popular')">#Popular</button>
          <% genres.forEach(function(genre) {%>
            <p><%= genre.id %></p>
            <button class="tablinks" onclick="showTab(event, 'g<%= genre.id %>')">#<%= genre.name %></button>
          <%});%>
      </div>
      <div id="Popular" class="tabcontent">
            <div class="grid-20 mobile-grid-45 tablet-grid-45 grid-parent librarybox">
              <div class="grid-100 libraryimage">
                <img class="poster" src="/images/poster1.jpg" alt="Poster">
              </div>
              <div class="grid-100 librarytitle">
                <h4 class="title">Guardians of the Galaxy</h4>
              </div>
              <div class="grid-100 librarybuttons">
                <button class="button">More Details</button>
              </div>
            </div>
      </div>
      <% genres.forEach(function(genre) {%>
        <div id="g<%= genre.id %>" class="tabcontent">
          <h2><%= genre.name %></h2>
        </div>
        <%});%>
    </main>
    <footer class="grid-100 tablet-grid-100 footer">
      <% include ../partials/footer.ejs %>
      <!-- Using ejs to import the footer code -->
    </footer>
    <script>
        $()
        $("#Popular").css('display', 'block');
        function showTab(evt, tabName) {
            var i, tabcontent, tablinks;
            tabcontent = $(".tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tablinks = $(".tablinks");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            $("#" +tabName).css("display", "block");
            evt.currentTarget.className += " active";
        }
    </script>
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> -->
</body>
</html>
